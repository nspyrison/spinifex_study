---
title: "animated pdf example"
author: "Nick Spyrison"
date: "5/10/2021"
output: 
  #html_document:
  #pdf_document: default
  bookdown::pdf_document2:
    toc: true
header-includes: 
  - \usepackage{animate}
editor_options: 
  chunk_output_type: console
# figures:
#   dev: grDevices::png
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  cache = TRUE
)
```

# pacman example

```{r pacmanExample, animation.hook='gifski', fig.show='animate', interval=1/4}
for (i in 1:3) {
  pie(c(i %% 3, 6), col = c('red', 'yellow'), labels = NA)
}
```

# tourr
```{r Tourr, animation.hook='gifski', fig.show='animate', interval=1/4}
require(tourr)
if(interactive() == T)
  ?save_history

t1 <- save_history(flea[, 1:6], max = 4)
animate_xy(flea[, 1:6], planned_tour(t1))
message("why only 2 frames!?")
```

# gganimate 
```{r gganimate, dev='jpeg', fig.show='animate', interval=.2}
require(gganimate)
message("doesn't seem to use `interval` chunk option")

ggplot(airquality, aes(Day, Temp, group = Month)) +
  geom_line() +
  transition_reveal(Month)
```


# spinifex render_gganimate 
```{r spinifex}
require(spinifex)
message("doesn't seem to use `interval` chunk option")
#?play_tour_path
dat_std <- scale_sd(flea[, 1:6])
clas <- flea$species
bas <- basis_pca(dat_std)

## Not run:
## Tour history from tourr::save_history
g_path <- tourr::save_history(dat_std, tour_path = tourr::grand_tour(), max = 3)

play_tour_path(tour_path = g_path,  data = dat_std, render_type = render_gganimate)
```